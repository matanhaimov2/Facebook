הוספת בדיקת סשן לאתר:

חלק ראשון:

צריך לפתוח טבלת DB חדשה שנקראת סשן טאבל. בתוכה שלוש תורים שנקראת ID ועוד אחד Session id ואימייל שמשויך לסשן הזה. V

כל פעם שבן אדם מתחבר בלוגין נעשה בקשה בDB ונוסיף את הסשן ID של האדם הספיציפי לטבלה.

סשן אידי זה כמה אותיות מגונרתות שהם יוניק. שונות אחת מהשני בין סשן לסשן.
כל פעם שיוזר מתחבר תשלח ללוקאל סטוראג בנוסף לאימייל גם סשן ID.


חלק שני:

כל פעם שנעשה שינוי כלשהו באתר אנחנו נשלח בקשה לבאק בראוט isAuthnticatedю . הראוט יקבל כמפרמטר את הסשן איידי והאימייל ששמור בלוקל סטורג.


הראוט ישלח בקשה לדיבי שתמצא את האימייל בתוך הסשןטייבל ותבדוק אם הסשן ששמרנו בלוקל וקבלנו כפרמטר שווה לסשן ששמור בדיבי עם אימייל הזה. אם כן אז הכל טוב ואתה שולח ok ואז היוזר ממשך כרגיל. אן לא שווה אז ישלח failed гея ואז יחזיר את היוזר לדף של הלוגין וינתק אותו(ימחק מהלוקל סטורג את המידע על היוזר)



.